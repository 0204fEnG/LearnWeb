// import { useEffect} from 'react'
import { useEffect, useRef, useState } from 'react'
import './Mine.scss'
const Mine = () => {
    const divTop = useRef(null)
    const [topOpacity, setTopOpacity] = useState(0);
const topOpacityRef = useRef(topOpacity);

useEffect(() => {
  topOpacityRef.current = topOpacity; // 每次 topOpacity 更新时，同步到 ref
}, [topOpacity]);

useEffect(() => {
  const topScrollToShow = () => {
    const topScroll = divTop.current.scrollTop;
    const newOpacity = Math.min(topScroll / 300, 1); // 确保 opacity 不超过 1
    setTopOpacity(newOpacity);
    console.log(newOpacity); // 输出最新的 opacity
  };

  if (divTop.current) {
    divTop.current.addEventListener('scroll', topScrollToShow);
  }

  return () => {
    if (divTop.current) {
      divTop.current.removeEventListener('scroll', topScrollToShow);
    }
  };
}, []);
    return <div className="app-mine">
        <header className='app-mine__top' style={{opacity:`${topOpacity}`}}>
            <div className="info">
                <img src="/images/header/banner/小小陈.png" alt="用户头像" className="avatar" />
                <span className="name">feng</span>
            </div>
        </header>
        {/* <header className='app-mine__header'>

        </header> */}
        {/* <Title title='个人主页'/> */}
        <main className='app-mine__main' ref={divTop}>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
            <p>1111111111111111</p>
        </main>
    </div>
}
export default Mine